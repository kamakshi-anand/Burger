<h1>Eat-Da-Burger!</h1>

<main>
    <div class="container">
        <div class="row">
            <div class="col s6">
                {{#each burgers}}
                {{#unless this.devoured}}
                <div>

                    <form action="/burgers/{{this.id}}?_method=PUT" method="POST">
                        <button type="submit" data-burgerid="{{this.id}}">{{this.burger_name}}</button>
                    </form>

                    {{!-- <form action="/burgers/{{this.id}}?_method=PUT" method="POST">
                        <button type="submit" class='burgerAvailable'> {{this.burger_name}}</button>
                    </form> --}}
                </div>
                {{/unless}}
                {{/each}}
            </div>

            <div class="col s6">
                {{#each burgers}}
                {{#if this.devoured}}
                <div class='burgerEaten'>
                    <div>
                        <p><b>{{this.burger_name}}</b></p>
                    </div>
                </div>
                {{/if}}
                {{/each}}
            </div>
        </div>
    </div>
</main>

<h2>Add A Burger Option</h2>

{{!-- <div class="row">
    <div class="col s12">
        <form action="/burgers" method="POST">
            <input type="text" id="name" name="burger_name" placeholder="Uber Delicious Burger">
            <button type="submit" class="addBurgerButton">Add The Burger</button>
        </form>
    </div> --}}
</div>
<script type="text/javascript">

    function update() {
        alert("update b");
        // Get the ID from the button.
        // This is shorthand for $(this).attr("data-planid")
        var id = $(this).data("burgerid");



        // Send the DELETE request.
        $.ajax("/burgers/" + id, {
            type: "PUT"
        }).then(
            function () {
                console.log("updated id ", id);
                // Reload the page to get the updated list
                // location.reload();
            }
        );
    }

    $(document).on("click", "#update", update);
</script>